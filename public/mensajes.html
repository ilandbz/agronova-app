<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Agronova</title>

  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
    crossorigin="anonymous"
  />
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    rel="stylesheet"
  />

<link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      crossorigin="anonymous" referrerpolicy="no-referrer">

  <style>
    :root {
      --brand: #007b5e;
      --bg: #f5f5f5;
      --card: #ffffff;
      --shadow: 0 4px 10px rgba(0,0,0,.1);
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: var(--bg);
      color: #222;
      display: flex;
      flex-direction: column;
    }
    header {
      background: var(--brand);
      color: #fff;
      padding: 1rem;
      text-align: center;
    }
    main {
      width: 100%;
      max-width: 1280px;
      margin: 0 auto;
      padding: 1rem;
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .iframe-card {
      width: 100%;
      background: var(--card);
      border-radius: 12px;
      overflow: hidden;
      box-shadow: var(--shadow);
      /* relaci칩n de aspecto responsiva; ajusta a 16/9, cambia a 16/10 si prefieres */
      aspect-ratio: 16 / 9;
      position: relative;
    }
    .iframe-card iframe {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      border: 0;
    }
    footer {
      background: var(--brand);
      color: #fff;
      text-align: center;
      padding: .75rem 1rem;
      font-size: .9rem;
    }

    /* Mejora en m칩viles muy angostos: usa m치s alto */
    @media (max-width: 420px) {
      .iframe-card { aspect-ratio: 3 / 4; } /* m치s alto para m칩viles peque침os */
    }
  .logo-full {
    width: 100%;
    height: auto;
    max-height: 120px;
    object-fit: contain;
  }
  .home-fab {
    position: fixed;
    left: 50%;
    transform: translateX(-50%);
    bottom: 16px;
    bottom: calc(env(safe-area-inset-bottom, 0px) + 16px);
    z-index: 1100;
    width: 64px;
    height: 64px;
    border-radius: 999px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: #0a7c59;
    color: #fff;
    box-shadow: 0 10px 30px rgba(0,0,0,.18);
    text-decoration: none;
  }
  .home-fab i { font-size: 1.6rem; }
  body { padding-bottom: 96px; }
  .bottom-nav { display: none; }
    .menu-card:active{ transform: scale(.98); }
    .hidden{ display:none !important; }
    .bottom-nav{
      position:sticky; bottom:0; z-index:1020; border-top-left-radius:1rem; border-top-right-radius:1rem;
      background:#fff; box-shadow:0 -6px 24px rgba(0,0,0,.08);
    }
    .logo{ height:40px; }
    .chip{ background:#e7f5ee; color:#1a684e; border-radius:999px; padding:.2rem .6rem; font-size:.8rem; }
    .tap{ padding:.9rem 1.1rem; border-radius:.8rem; }

.iframe-card {
  width: 100%;
  max-width: 1000px; /* opcional */
  margin: 0 auto;
}

.iframe-wrapper {
  width: 100%;
  height: 600px; /* ajusta seg칰n necesites */
  overflow: hidden;
  position: relative;
}

/* Mueve el iframe hacia arriba 20px */
.iframe-wrapper iframe {
  width: 100%;
  height: 620px; /* altura +20px para compensar el recorte */
  border: none;
  position: absolute;
  top: -20px;
  left: 0;
}
#mensaje-card {
  animation: fadeIn 1s ease;
}
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
.spin i {
  animation: spin 1s linear infinite;
}
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
  </style>
</head>
<body>
  <!-- App bar -->
    <header class="app-bar brand-grad py-3 px-3 mb-3 text-center">
  <img src="logo.png" alt="AgroNova" 
       class="rounded-circle border border-3 border-light shadow p-4 bg-white" 
       width="200" height="200">
    </header>

  <main>
    <div id="mensaje-card" class="text-center p-4 bg-white shadow rounded-4" style="max-width:700px;">
      <h3 class="fw-bold text-success mb-3">
        <i class="fa-solid fa-seedling"></i> Consejo Agr칤cola del D칤a
      </h3>
      <p id="mensaje-texto" class="fs-5 text-secondary mb-3">Cargando consejo...</p>
      <button id="btn-refresh" class="btn btn-success btn-sm px-4">
        <i class="fa-solid fa-rotate"></i> Otro consejo
      </button>
    </div>
  </main>

  <a href="index.html" class="home-fab" aria-label="Ir al inicio" role="button">
  <i class="bi bi-house-fill"></i>
<script>
document.addEventListener("DOMContentLoaded", function() {
  const mensajeTexto = document.getElementById("mensaje-texto");
  const btnRefresh = document.getElementById("btn-refresh");

  async function cargarMensaje() {
    mensajeTexto.textContent = "游 Obteniendo consejo...";
    try {
      const res = await fetch("https://integrity.macrocompany.net.pe/api/mensajes"); // 游댳 Cambia a tu dominio real
      const data = await res.json();
      mensajeTexto.textContent = data.mensaje || "No hay consejos disponibles.";
    } catch (error) {
      mensajeTexto.textContent = "Error al conectar con el servidor.";
      console.error(error);
    }
  }

  // Cargar al iniciar
  cargarMensaje();

  // Cargar nuevo mensaje al hacer clic
  btnRefresh.addEventListener("click", () => {
    btnRefresh.classList.add("spin");
    cargarMensaje().then(() => btnRefresh.classList.remove("spin"));
  });
});
</script>
</body>
</html>